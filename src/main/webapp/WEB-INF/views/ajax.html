<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>
    <title>Admin page</title>
    <link rel="stylesheet" type="text/css"
          th:href="@{/resources/adminStyle.css}"/>
    <link rel="stylesheet" type="text/css"
          th:href="@{/resources/semantic.min.css}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
</head>

<body>
    <div >
            <div id="tree"></div>
        <div id="load"></div>
    </div>
    <div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
        <script>
            $('#tree').jstree({
                'core' : {
                    "check_callback" : true,
                    'data' : {
                        'url' : 'api',
                        'data' : function (node) {
                            return { 'id' : node.id };
                        }
                    }
                },
                plugins: [ 'themes', 'json_data', 'ui','contextmenu' ],
                'contextmenu':{
                    'items':{
                        'create':{
                            'label': 'create',
                            'action': function (node) {
                                console.log(node)
                                var n = node['reference']
                                console.log(n)
                                console.log(n['prevObject']['0']['id'])
                            }
                        }
                    }
                }
            });

        </script>
    </div>
</body>
</html>